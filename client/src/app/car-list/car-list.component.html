<div class="container px-5 bg-grey-lighter">
    <div class="flex lg:flex-row flex-col">

        <div class="w-full lg:w-1/4 bg-gray-100 p-2 m-3">
            <div class="lg:sticky top-2">

                <form [formGroup]="searchFilters" (ngSubmit)="search(searchFilters.value)">

                    <input name="model" id="model" formControlName="model" type="text"
                    placeholder="Model name" class="block border border-grey-light w-full rounded mb-1 p-2">

                    <input name="make" id="make" formControlName="make" type="text"
                    placeholder="Car maker" class="block border border-grey-light w-full rounded mb-1 p-2">

                    <input name="country" id="country" formControlName="country" type="text"
                    placeholder="Country of origin" class="block border border-grey-light w-full rounded mb-1 p-2">


                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="price_from" placeholder="Price min:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="price_to" placeholder="Price max:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="year_from" placeholder="Min year:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="year_to" placeholder="Max year:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="mileage_from" placeholder="Min mileage:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="mileage_to" placeholder="Max mileage:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="engineSize_from" placeholder="Engine size min:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="engineSize_to" placeholder="Engine size max:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="horsepower_from" placeholder="Min horsepower:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="horsepower_to" placeholder="Max horsepower:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="bootCapacity_from" placeholder="Boot capacity min:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="bootCapacity_to" placeholder="Boot capacity max:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="numberOfDoors_from" placeholder="Doors min:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="numberOfDoors_to" placeholder="Doors max:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="numberOfSeats_from" placeholder="Seats min:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <input type="number" formControlName="numberOfSeats_to" placeholder="Seats max:"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <select class="form-select" formControlName="fuelType"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Fuel type</option>
                                <option>TNG</option>
                                <option>CNG</option>
                                <option>Diesel</option>
                                <option>Petrol</option>
                                <option>Electric</option>
                                <option>Hybrid</option>
                            </select>
                        </div>

                        <div class="w-full md:w-1/2 px-1">
                            <select class="form-select" formControlName="color"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Car color</option>
                                <option>Black</option>
                                <option>Gray</option>
                                <option>White</option>
                                <option>Red</option>
                                <option>Green</option>
                                <option>Blue</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <select class="form-select" formControlName="transmission"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Transmission</option>
                                <option>Manual</option>
                                <option>Automatic</option>
                                <option>CVT</option>
                            </select>
                        </div>

                        <div class="w-full md:w-1/2 px-1">
                            <select class="form-select" formControlName="body"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Car body style</option>
                                <option>Sedan</option>
                                <option>Coupe</option>
                                <option>Sports car</option>
                                <option>Station wagon</option>
                                <option>Hatchback</option>
                                <option>Convertible</option>
                                <option>SUV</option>
                                <option>Minivan</option>
                                <option>Pickup truck</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <select class="form-select" formControlName="emissionClass"
                        class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                            <option value="" disabled selected>Emission class</option>
                            <option>Euro 1</option>
                            <option>Euro 2</option>
                            <option>Euro 3</option>
                            <option>Euro 4</option>
                            <option>Euro 5</option>
                            <option>Euro 6</option>
                        </select>
                    </div>
                    <div class="flex flex-wrap">
                        <select class="form-select" formControlName="damage"
                        class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                            <option value="" disabled selected>Damage</option>
                            <option>Not Damaged</option>
                            <option>Damaged - Drivable</option>
                            <option>Damaged - Non-Drivable</option>
                        </select>
                    </div>

                    <div class="flex flex-wrap">
                        <select class="form-select" formControlName="type"
                        class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                            <option value="" disabled selected>Used or new</option>
                            <option>Used</option>
                            <option>New</option>
                        </select>
                    </div>

                    <button type="submit"
                    class="w-full text-center bg-gray-800 py-2 text-white rounded bg-green hover:text-gray-300 focus:outline-none my-2">
                        Search
                    </button>
                </form>
            </div>
        </div>

        <div class="w-full lg:w-3/4 min-h-screen">
            <div class="grid xl:grid-cols-2 grid-cols-1">
                <a  [routerLink]="['/car', car.id]" *ngFor="let car of cars | async" class="px-3 py-3 flex flex-row m-3 bg-gray-100 rounded-md justify-between">
                    <div class="lg:flex-shrink-0">
                        <img class="rounded-lg sm:w-96 sm:h-48 md:w-96 md:h-48  lg:w-64 lg:h-40" src="{{ car.images[0] }}" alt="" />
                    </div>
                    <div class="pl-2 w-full">
                        <div class="bg-gray-800">
                            <div class="uppercase tracking-wide text-sm text-white font-bold"> {{ car.make }} {{ car.model }} </div>
                            <p class="block mt-1 text-sm leading-tight font-semibold text-white"> {{ car.price }} € </p>
                        </div>
                        <main>
                            <span class="font-bold">Type: </span><span>{{ car.type }}</span>
                        </main>
                        <main>
                            <span class="font-bold">Year: </span><span>{{ car.year }}</span>
                        </main>
                        <main>
                            <span class="font-bold">Mileage: </span><span>{{ car.mileage }}km</span>
                        </main>
                        <main>
                            <span class="font-bold">Engine Size: </span><span> {{ car.engineSize }}Liter </span>
                        </main>
                        <main>
                            <span class="font-bold">Transmission: </span><span>{{ car.transmission }}</span>
                        </main>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
