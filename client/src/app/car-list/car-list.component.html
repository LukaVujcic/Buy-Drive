<div class="container px-5 bg-grey-lighter">
    <div class="flex lg:flex-row flex-col">

        <div class="w-full lg:w-1/4 bg-gray-100 p-2 m-5">
            <div class="lg:sticky top-2">

                <form [formGroup]="searchFilters" (ngSubmit)="search(searchFilters.value)">

                  <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Make:</label>
                    <input name="make" id="make" formControlName="make" type="text"
                    placeholder="e.g. BMW" class="block border border-grey-light w-full rounded mb-1 p-2">
                  </div>

                  <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Model:</label>
                    <input name="model" id="model" formControlName="model" type="text"
                    placeholder="e.g. X3" class="block border border-grey-light w-full rounded mb-1 p-2">
                  </div>

                  <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Country of origin:</label>
                    <input name="country" id="country" formControlName="country" type="text"
                    placeholder="e.g. Serbia" class="block border border-grey-light w-full rounded mb-1 p-2">
                  </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min price (€):</label>
                            <input type="number" formControlName="price_from" placeholder="e.g. 9500"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max price (€):</label>
                            <input type="number" formControlName="price_to" placeholder="e.g. 15642"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min year:</label>
                            <input type="number" formControlName="year_from" placeholder="e.g. 2005"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max year:</label>
                            <input type="number" formControlName="year_to" placeholder="e.g. 2018"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min mileage (km):</label>
                            <input type="number" formControlName="mileage_from" placeholder="e.g. 190532"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max mileage (km):</label>
                            <input type="number" formControlName="mileage_to" placeholder="e.g. 202123"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min engine size (cm<sup>3</sup>):</label>
                            <input type="number" formControlName="engineSize_from" placeholder="e.g. 1200"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max engine size (cm<sup>3</sup>):</label>
                            <input type="number" formControlName="engineSize_to" placeholder="e.g. 1700"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min horsepower (KS):</label>
                            <input type="number" formControlName="horsepower_from" placeholder="e.g. 100"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max horsepower (KS):</label>
                            <input type="number" formControlName="horsepower_to" placeholder="e.g. 200"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min boot capacity (l):</label>
                            <input type="number" formControlName="bootCapacity_from" placeholder="e.g. 352.1"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max boot capacity (l):</label>
                            <input type="number" formControlName="bootCapacity_to" placeholder="e.g. 543.6"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min doors:</label>
                            <input type="number" formControlName="numberOfDoors_from" placeholder="e.g. 3"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max doors:</label>
                            <input type="number" formControlName="numberOfDoors_to" placeholder="e.g. 5"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Min seats:</label>
                            <input type="number" formControlName="numberOfSeats_from" placeholder="e.g. 2"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Max seats:</label>
                            <input type="number" formControlName="numberOfSeats_to" placeholder="e.g. 8"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Fuel type:</label>
                            <select class="form-select" formControlName="fuelType"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Fuel type</option>
                                <option>TNG</option>
                                <option>CNG</option>
                                <option>Diesel</option>
                                <option>Petrol</option>
                                <option>Electric</option>
                                <option>Hybrid</option>
                            </select>
                        </div>

                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Color:</label>
                            <select class="form-select" formControlName="color"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Car color</option>
                                <option>Black</option>
                                <option>Gray</option>
                                <option>White</option>
                                <option>Red</option>
                                <option>Green</option>
                                <option>Blue</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Transmission:</label>
                            <select class="form-select" formControlName="transmission"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Transmission</option>
                                <option>Manual</option>
                                <option>Automatic</option>
                                <option>CVT</option>
                            </select>
                        </div>

                        <div class="w-full md:w-1/2 px-1">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Body:</label>
                            <select class="form-select" formControlName="body"
                            class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                                <option value="" disabled selected>Car body style</option>
                                <option>Sedan</option>
                                <option>Coupe</option>
                                <option>Sports car</option>
                                <option>Station wagon</option>
                                <option>Hatchback</option>
                                <option>Convertible</option>
                                <option>SUV</option>
                                <option>Minivan</option>
                                <option>Pickup truck</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-wrap">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Emission class:</label>
                        <select class="form-select" formControlName="emissionClass"
                        class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                            <option value="" disabled selected>Emission class</option>
                            <option>Euro 1</option>
                            <option>Euro 2</option>
                            <option>Euro 3</option>
                            <option>Euro 4</option>
                            <option>Euro 5</option>
                            <option>Euro 6</option>
                        </select>
                    </div>
                    <div class="flex flex-wrap">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Damage:</label>
                        <select class="form-select" formControlName="damage"
                        class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                            <option value="" disabled selected>Damage</option>
                            <option>Not Damaged</option>
                            <option>Damaged - Drivable</option>
                            <option>Damaged - Non-Drivable</option>
                        </select>
                    </div>

                    <div class="flex flex-wrap">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Type:</label>
                        <select class="form-select" formControlName="type"
                        class="block border border-grey-light w-full rounded mb-1 p-2 w-1/2">
                            <option value="" disabled selected>Used or new</option>
                            <option>Used</option>
                            <option>New</option>
                        </select>
                    </div>

                    <button type="submit"
                    class="w-full text-center bg-gray-800 py-2 text-white rounded bg-green hover:text-gray-300 focus:outline-none my-2">
                        Search
                    </button>
                </form>
            </div>
        </div>

        <div class="w-full lg:w-3/4 min-h-screen">
            <div *ngIf="!(cars | async)?.length" class="px-10 py-10 flex flex-row m-5 font-bold w-full bg-gray-100 rounded-md justify-center">
              <p> No search results. </p>
            </div>
            <div class="grid xl:grid-cols-2 grid-cols-1">
                <a  [routerLink]="['/car', car.id]" *ngFor="let car of cars | async" class="px-3 py-3 flex flex-row m-3 bg-gray-100 rounded-md justify-between">
                    <div class="lg:flex-shrink-0">
                        <img class="rounded-lg sm:w-96 sm:h-48 md:w-96 md:h-48  lg:w-64 lg:h-40" src="{{ car.images[0] }}" alt="" />
                    </div>
                    <div class="pl-2 w-full">
                        <div class="bg-gray-800">
                            <div class="uppercase tracking-wide text-sm text-white font-bold"> {{ car.make }} {{ car.model }} </div>
                            <p class="block mt-1 text-sm leading-tight font-semibold text-white"> {{ car.price }} € </p>
                        </div>
                        <main>
                            <span class="font-bold">Type: </span><span>{{ car.type }}</span>
                        </main>
                        <main>
                            <span class="font-bold">Year: </span><span>{{ car.year }}</span>
                        </main>
                        <main>
                            <span class="font-bold">Mileage: </span><span>{{ car.mileage }}km</span>
                        </main>
                        <main>
                            <span class="font-bold">Engine Size: </span><span> {{ car.engineSize }}Liter </span>
                        </main>
                        <main>
                            <span class="font-bold">Transmission: </span><span>{{ car.transmission }}</span>
                        </main>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
